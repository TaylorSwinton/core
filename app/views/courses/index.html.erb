<h1>All Courses</h1>
<%= form_tag("/courses", method: "get") do %>
  <%= label_tag(:category, "Choose A Category") %>
  <br>
  <%= select_tag(:category, options_for_select(@courses.collect{ |c| [c.category] })) %>
 
  <%= submit_tag("Filter") %>
<% end %>

<ul>
    <% @courses.each do |course| %>
        <li><%= link_to course.title, course_steps_path(course) %></li>
        <div id="body-<%= course.id %>">

        <%= truncate course.description, length: 0 %>
        </div>
        <button class="js-more" data-id="<%=course.id%>">Preview</button>
    <% end %>
</ul>

<%# <script type="text/javascript" charset="utf-8">
  $(function() {
    $(".js-more").on('click', function() {
      var id = $(this).data("id");
      $.get("/courses/" + id + ".json", function(data) {
        $("#body-" + id).html(data["description"])
      })
    })
  })
</script> %>